# 论安民告示 #

## 1 什么是安民告示 ##

安民告示，指的是某个服务/app在发生重大故障的时候，在独立于通常业务的IT设施之外，有一个可以直达用户的设施，告诉用户发生了什么事情，避免恐慌。

安民告示不是官方微博，不是客服，也不是新闻发布会，更不是公关。

微博容易以讹传讹，假消息淹没真消息；客服在重大故障的时候，已经被打爆了，或者用户也不知道该怎么联系客服，或者知道客服电话也懒得打；新闻发布会太慢触达面有限。公关，额…

只有安民告示才是有效的。App不能登录了，就直接在app界面上弹出安民告示：“尊敬的用户，由于机房机架掉电，影响您的正常使用，我们正在拼命抢修，预计1个小时候恢复。 请您谅解”。

想象一下，某饭馆因为重新装修或者是老板娘跑了需要暂时停业3天。我们pia pia pia的特意跑到一个饭馆去吃饭，结果发现关门了。作为用户我们的反应可能有：

反应一：哦，倒闭了。那老子以后不用再来了
反应二：问旁边的一个路人甲这个饭店怎么啦？ 路人甲说这里杀人了，被警察关闭了
反应三：问边上的另外餐馆的老板什么情况，同行生嫉妒，老板明知什么情况，也要说点其他的：哦，吃死人，被关了
反应四：生气呀，老子跑100多公里过来吃饭的，把丫的门窗全砸了。
反应五：是不是没有到时间点？ 我等吧，我从早上10点等到中午12点，因爱生恨
         
如果这个时候，有一个安民告示清楚的告知：“亲，老板娘跑了，情绪不太好，休息三天，三天后重新营业并大酬宾有惊喜，同时招募有志向当老板娘的服务员哦”。那效果是不是好很多？ 用户还会回流，名声也保住了。

小小的饭店如此，如果是那家你存了几百万美元的银行呢？…

## 2 必要性 ##

前面其实已经说了安民告示的必要性了：

1、  安民告示的触达是其他渠道不可替代的

2、  安民告示能够避免用户恐慌和误解，达到安抚和降级的作用

3、  安民告示能够避免对手故意炒作和抹黑

4、  安民告示能够缓解我们同事修复故障的时候的压力，使得工作进展更顺利

5   dragonlan补充：可以避免用户盲目重试从而导致后台服务过载

有人会质疑哈，我后台服务故障或者网络有什么故障，会返回给客户端错误码和提示语啊，不就达到了安民告示的作用了吗？还需要另外做吗？

笔者这里有一次亲身经历的事故来证明安民告示的必要性。 某次服务故障，导致不能登录了，由于登录逻辑本身十分复杂，分支很多，后台系统处于混乱的状况中（数据乱了），结果给到用户的提示语是“账号被冻结，请改密”。大量的用户涌入另外一个改密服务网站，一下就把改密给冲垮了。同时用户恐慌：是不是被黑客攻击了？

 

## 3 安民告示的关键点 ##

3.1独立性：

与通常的业务IT基础要解耦，要做到业务IT基础（网络、服务器、机房）故障的情况下，安民告示系统还可用。 不能因为业务的变更和升级，导致安民告示系统经常性的变更，导致不稳定。大概同美利坚的司法独立类似吧

3.2健壮性

尽量的简单、多分布，保证健壮。可能就是一个简单的http静态页面。

3.3自动化

不要设计为有个配置开关然后等故障的时候人工去打开，因为除了故障的时候一般不记得有这个东西，另外记起来了，也可能找不到那个开关，因为系统太多，又经年不用，没有人记得这个东东怎么搞，更何况是在压力很大的情况下。

为了快速反应，要做到自动化，类似美苏总统的核按钮箱子，一天到晚跟着跑，一旦有情况，自动叫起来：“总统，对方搞我们了，你要不要按一下我里面的按钮打他丫的？”（我能告诉你我在美国中情局干过几年吗？）

具体到互联网服务，我们可以做一个app，装在几个关键运维人员的手机上，后台一旦发现有问题，就push到app，强请示要不要发安民告示，运维人员一键搞定。

还有，需要经常演习。

